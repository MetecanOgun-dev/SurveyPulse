@page "/Register"
@using System.ComponentModel.DataAnnotations;
@using SurveyPulse.Shared.IdentityModels;

<div class="container pt-5">
    <div class="row justify-content-center">
        <div class="col-md-4">
            <img alt="Google Forms results screen 2." class="results f2" src="https://lh3.googleusercontent.com/fKY1vTZAqtmSDZp1w8_1bFgt41OEaTQ5kxKFDZgLI-Tl2dYjWdec1ZDrMBsHq9jepLeqS3GyWi0T7RZtaNZYHCwzDDj9OPjknbSbuUi2qbY_z2LzNg=w0-l80-sg-rj-c0xffffff" width="100%">
        </div>
        <div class="col-md-8">
            <div class="card mt-3 mb-3">
                <div class="card-header">
                    <h2>Registration</h2>
                </div>
                <div class="card-body">
                    @if (isRegistrationSuccess)
                    {
                        <div class="alert alert-success" role="alert">@registerSuccessMesage</div>
                    }
                    @if (ShowErrors)
                    {
                        foreach (var error in Errors)
                        {
                            <div class="alert alert-danger" role="alert"><p>@error</p></div>
                        }
                    }
                    <EditForm Model="@registerModel" OnSubmit="HandleRegistiration">
                        <DataAnnotationsValidator />

                        <div class="form-group mt-2">
                            <label for="FirstName">First Name:</label>
                            <SfTextBox ID="first-name" @bind-Value="registerModel.FirstName"></SfTextBox>
                            <ValidationMessage For="@(() => registerModel.FirstName)"></ValidationMessage>
                        </div>
                        <div class="form-group mt-2">
                            <label for="LastName">Last Name:</label>
                            <SfTextBox ID="last-name" @bind-Value="registerModel.LastName"></SfTextBox>
                            <ValidationMessage For="@(() => registerModel.LastName)"></ValidationMessage>
                        </div>
                        <div class="form-group  mt-2">
                            <label for="Email">Email:</label>
                            <SfTextBox ID="email" @bind-Value="registerModel.Email"></SfTextBox>
                            <ValidationMessage For="@(() => registerModel.Email)"></ValidationMessage>
                        </div>
                        <div class="form-group  mt-2">
                            <label for="Username">Username:</label>
                            <SfTextBox ID="username" @bind-Value="registerModel.Username"></SfTextBox>
                            <ValidationMessage For="@(() => registerModel.Username)"></ValidationMessage>
                        </div>
                        <div class="form-group  mt-2">
                            <label for="Password">Password:</label>
                            <SfTextBox Type="InputType.Password" ID="password" @bind-Value="registerModel.Password"></SfTextBox>
                            <ValidationMessage For="@(() => registerModel.Password)"></ValidationMessage>
                        </div>
                        <div class="form-group mt-2">
                            <label for="last-name">Confirm Password:</label>
                            <SfTextBox Type="InputType.Password" ID="confirm-password" @bind-Value="registerModel.ConfirmPassword"></SfTextBox>
                            <ValidationMessage For="@(() => registerModel.ConfirmPassword)"></ValidationMessage>
                        </div>
                        <br />
                        <div class="form-group" align="right">
                            <SfButton Disabled="(!context.Validate())" CssClass="e-primary">Submit</SfButton>
                        </div>
                    </EditForm>
                </div>
            </div>
        </div>
    </div>
</div>